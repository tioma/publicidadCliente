<div class="container col-lg-12">

	<div class="page-header">
		<h1>Productos</h1>
	</div>

	<form class="col-lg-6 well form-horizontal" ng-submit="guardarProducto()">
		<fieldset>
			<legend>Nuevo producto</legend>
			<div class="form-group col-md-12 col-lg-12 pull-right">
				<canvas class="canvas-thumbnail" id="canvasImagen" ng-class="imageSelected ? '' : 'my-drop-zone'" droppable drop="fileSelect(files)" ></canvas>
			</div>
			<div class="form-group col-md-12 col-lg-12">
				<div class="input-group">
					<span class="input-group-addon">
						Nombre
					</span>
					<input type="text" class="form-control" ng-model="producto.nombre" placeholder="Nombre del producto" ng-required="true">
					<span class="input-group-btn">
						<button class="btn btn-default" ng-click="borrarCampo('nombre')"><span class="glyphicon glyphicon-remove"></span></button>
					</span>
				</div>
			</div>
			<div class="form-group col-md-12 col-lg-12">
				<div class="input-group">
					<span class="input-group-addon">
						Descripci贸n
					</span>
					<textarea rows="2" style="resize: none" class="form-control" ng-model="producto.descripcion" placeholder="Descripci贸n del producto" ng-required="true"></textarea>
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="borrarCampo('descripcion')"><span class="glyphicon glyphicon-remove"></span></button>
					</span>
				</div>
			</div>
			<div class="form-group col-md-12 col-lg-12">
				<div class="input-group">
					<span class="input-group-addon">
						C贸digo
					</span>
					<input type="text" class="form-control" ng-model="producto.codigo" placeholder="C贸digo del producto" ng-required="true">
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="borrarCampo('codigo')"><span class="glyphicon glyphicon-remove"></span></button>
					</span>
				</div>
			</div>
			<div class="form-group col-md-12 col-lg-12">
				<div class="input-group">
					<span class="input-group-addon">
						Precio
					</span>
					<input type="text" class="form-control" ng-model="producto.precio" placeholder="Precio del producto" ng-required="true">
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="borrarCampo('precio')"><span class="glyphicon glyphicon-remove"></span></button>
					</span>
				</div>
			</div>
			<div class="form-group col-md-12 col-lg-12">
				<div class="input-group">
					<span class="input-group-addon">
						Sucursales
					</span>
					<tags-input ng-model="producto.sucursales" display-property="nombre" placeholder="Agregue una sucursal" add-from-autocomplete-only="true" add-on-enter="false" ng-required="true">
						<auto-complete source="buscarSucursales($query)"
						               min-length="1"
						               template="autocomplete-template"></auto-complete>
					</tags-input>
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="borrarCampo('sucursales')"><span class="glyphicon glyphicon-remove"></span></button>
					</span>
				</div>
			</div>
			<div class="form-group col-md-12 col-lg-12">
				<div class="input-group">
					<span class="input-group-addon">
						Etiquetas
					</span>
					<tags-input ng-model="producto.etiquetas" placeholder="Agregue una etiqueta"></tags-input>
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="borrarCampo('etiquetas')"><span class="glyphicon glyphicon-remove"></span></button>
					</span>
				</div>
			</div>
			<div class="form-group col-md-12 col-lg-12">
				<div class="input-group">
					<span class="input-group-addon">
						Imagen
					</span>
					<input type="file" class="form-control" file-change handler="fileSelect(files)" accept="image/jpeg, image/x-png">
					<span class="input-group-btn">
						<button class="btn btn-default"><span class="glyphicon glyphicon-remove"></span></button>
					</span>
				</div>
			</div>
			<div class="col-lg-12">
				<button class="btn btn-primary pull-right" ng-click="guardarProducto()">Guardar</button>
			</div>
		</fieldset>
	</form>
</div>

<script type="text/ng-template" id="autocomplete-template">
	<div class="autocomplete-template">
		<div class="left-panel">
			<img ng-src="http://localhost:3002/sucursales/imagen/{{data._id}}">
		</div>
		<div class="right-panel">
			<span ng-bind-html="$highlight($getDisplayText())"></span>
			<!--<span>{{ data.direccion }}</span>-->
		</div>
	</div>
</script>